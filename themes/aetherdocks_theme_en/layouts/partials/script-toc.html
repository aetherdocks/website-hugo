<script>
    var coll = document.getElementsByClassName("toc-button");
    var i;
    
    for (i = 0; i < coll.length; i++) {
      coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling; // Get the Hugo's generated toc
        var tocContainer = this.parentElement; // Get the parent .toc element
        var triangleIcon = this.querySelector(".triangle-icon"); // Get the triangle icon
    
        if (content.style.maxHeight){
          content.style.maxHeight = null; // Unsquish that bastard
          tocContainer.classList.remove("active"); // Remove active class from .toc
          triangleIcon.style.transform = "rotate(0deg)"
        } else {
          content.style.maxHeight = content.scrollHeight + "px";
          tocContainer.classList.add("active"); // Add active class to .toc
          triangleIcon.style.transform = "rotate(90deg)";
        } 
      });
    }  
</script>